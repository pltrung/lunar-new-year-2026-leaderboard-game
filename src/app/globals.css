@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --lunar-red: #8B1538;
  --lunar-red-deep: #5C0A1F;
  --lunar-gold: #D4AF37;
  --lunar-gold-light: #F4E4BC;
}

html {
  scroll-behavior: smooth;
}

body {
  min-height: 100dvh;
  background: linear-gradient(180deg, #3d0614 0%, #5C0A1F 25%, #8B1538 50%, #5C0A1F 85%, #2a0510 100%);
  background-attachment: fixed;
}

/* Subtle lantern-style glow */
.lantern-glow {
  box-shadow:
    0 0 40px rgba(212, 175, 55, 0.12),
    0 0 80px rgba(139, 21, 56, 0.2),
    inset 0 0 60px rgba(212, 175, 55, 0.03);
}

.card-glow {
  box-shadow:
    0 4px 24px rgba(0, 0, 0, 0.3),
    0 0 0 1px rgba(212, 175, 55, 0.15),
    0 0 30px rgba(212, 175, 55, 0.08);
}

.rank-glow {
  animation: rank-glow 1.2s ease-out;
}

@keyframes rank-glow {
  0% {
    box-shadow: 0 0 0 0 rgba(212, 175, 55, 0.6);
  }
  70% {
    box-shadow: 0 0 0 12px rgba(212, 175, 55, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(212, 175, 55, 0);
  }
}

.sparkle-dot {
  animation: sparkle-dot 1.5s ease-in-out infinite;
}

@keyframes sparkle-dot {
  0%, 100% {
    opacity: 0.5;
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(1.3);
  }
}

/* Prevent layout shift during countdown */
.countdown-digit {
  font-variant-numeric: tabular-nums;
}

/* Horse silhouette: outer glow + under-shadow for separation from red (no red tint) */
.horse-silhouette-visible {
  filter:
    drop-shadow(0 0 6px rgba(255, 215, 0, 0.6))
    drop-shadow(0 6px 6px rgba(0, 0, 0, 0.3));
}

/* Horse progress bar â€” intensified glow in final 10s */
.horse-glow {
  filter:
    drop-shadow(0 0 8px rgba(255, 215, 0, 0.7))
    drop-shadow(0 0 6px rgba(255, 215, 0, 0.6))
    drop-shadow(0 6px 6px rgba(0, 0, 0, 0.35));
}

/* Subtle motion blur behind horse in final 10s */
.horse-motion-blur {
  filter: drop-shadow(0 0 6px rgba(248, 226, 122, 0.4)) drop-shadow(0 1px 2px rgba(0, 0, 0, 0.35));
}

/* Track glow intensifies in final 10s */
.track-glow-intense {
  box-shadow:
    0 0 0 1px rgba(212, 175, 55, 0.5),
    0 0 24px rgba(212, 175, 55, 0.2),
    inset 0 2px 4px rgba(0, 0, 0, 0.35),
    inset 0 -1px 0 rgba(255, 255, 255, 0.04);
}

/* Finish flag: subtle glow + shimmer every 3s */
.finish-flag-glow {
  filter: drop-shadow(0 0 8px rgba(212, 175, 55, 0.45));
}

.finish-flag-shimmer {
  animation: finish-flag-shimmer 3s ease-in-out infinite;
}

@keyframes finish-flag-shimmer {
  0%, 92%, 100% {
    opacity: 1;
  }
  94%, 98% {
    opacity: 0.88;
  }
  96% {
    opacity: 1.1;
  }
}

/* Team reveal card glow */
.team-reveal-glow {
  animation: team-reveal-glow 2s ease-in-out infinite;
  box-shadow: 0 0 30px rgba(212, 175, 55, 0.25);
}

@keyframes team-reveal-glow {
  0%, 100% {
    box-shadow: 0 0 30px rgba(212, 175, 55, 0.25);
  }
  50% {
    box-shadow: 0 0 50px rgba(212, 175, 55, 0.4);
  }
}

/* Yin-Yang orb: very slow continuous rotation (pausable at 0) */
.animate-yin-rotate {
  animation: yin-rotate var(--yin-duration, 45s) linear infinite;
}
.animate-yin-rotate.yin-rotate-paused {
  animation-play-state: paused;
}
@keyframes yin-rotate {
  to {
    transform: rotate(360deg);
  }
}
